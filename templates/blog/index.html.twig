{% extends 'base.html.twig' %}

{% block title %}Monblog Symfony | liste des articles {% endblock %}

{% block body %}
    <h1 class="display-4 text-center my-4">Les produits indispensables pour le quotidien ... </h1>

    <div class="row">

    {# la boucle FOR permet de passer en revue les articles selectionnés en BDD et envoyés par le controller #}
    {# data est une variable de reception qui receptionne un article par tour de boucle #}
    {# nous pouvons nommer cette variable comme nous le souhaitons #}

      {% for data in articles %}

        <div class="col-md-4">
          <div class="card mb-4 shadow-sm">
          {# on pioche dans data avec le point '.' afin d'afficher l'image,le titre, le contenu etc ..#}
            <img src="{{ data.image }}" alt="">
            <div class="card-body">
              <h5 class ="text-center">{{ data.title }}</h5>
              <p class="card-text">{{ data.content|striptags|slice(0,20) }} ...</p>
              {# raw est un filtre TWIG permettant d'echapper les balises HTML #}
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                    <a href="{{ path('blog_show', {'id': data.id})}}" class="btn btn-dark" >voir plus</a>
                </div>
                <small class="text-muted">{{ data.createdAt|date('d/m/Y') }} à {{ data.createdAt|date('H:i:s') }}</small>
                {#
                
                #}
                
                </div>
              </div>
            </div>
          </div>

             {% endfor %}
        </div>

{% endblock %}
